---
title: "Vue3.0リリース!! リリースノートを和訳してみた"
emoji: "🐥"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: []
published: false
---


本日、Vue.js 3.0 "One Piece" の正式リリースを発表できることを誇りに思います。このフレームワークの新しいメジャーバージョンでは、パフォーマンスの向上、より小さなバンドルサイズ、より優れたTypeScriptの統合、大規模なユースケースに取り組むための新しいAPI、そしてフレームワークの将来の長期的なイテレーションのための強固な基盤が提供されています。

3.0のリリースは2年以上の開発努力の成果であり、30以上のRFC、2,600以上のコミット、99人の貢献者からの628のプルリクエスト、コアレポ以外での膨大な量の開発とドキュメント作成作業を特徴としています。このチャレンジを引き受けてくれたチームメンバー、プルリクエストをしてくれたコントリビューター、財政的な支援をしてくれたスポンサーとバッカー、そしてデザインの議論に参加し、プレリリース版へのフィードバックを提供してくれたより広いコミュニティに深く感謝します。Vueはコミュニティのために作られ、コミュニティによって支えられている独立したプロジェクトであり、Vue 3.0は皆様の一貫したサポートなしでは実現できませんでした。

# プログレッシブ・フレームワーク」の概念をさらに進化させる
Vueには、誰もがすぐに学べるような親しみやすいフレームワークであること、というシンプルなミッションが当初からありました。ユーザーベースが成長するにつれて、フレームワークも増加する要求に適応するために範囲を広げていきました。時間の経過とともに、それは私たちが「プログレッシブフレームワーク」と呼んでいるものへと進化しました。

今日では、世界中で130万人以上のユーザーがVueを使用しており、従来のサーバーレンダリングされたページにインタラクティブ機能を散りばめたものから、何百ものコンポーネントを使用した本格的なシングルページアプリケーションまで、多種多様なシナリオでVueが使用されていることがわかります。Vue3は、この柔軟性をさらに高めています。

# レイヤー化された内部モジュール
Vue 3.0のコアは、シンプルな`<script>`タグを介して使用できますが、その内部は一から書き直され、デカップリングされたモジュールの集合体になりました。新しいアーキテクチャは保守性を向上させ、エンドユーザーはツリーシェイキングによってランタイムサイズを最大半分に削減できます。

また、これらのモジュールは、多くの高度なユースケースの鍵を握る低レベルAPIを公開しています。

コンパイラは、ビルド時のカスタマイズのためのカスタムAST変換をサポートしています（例：ビルド時のi18n）。
コアランタイムは、異なるレンダーターゲット（ネイティブモバイル、WebGL、ターミナルなど）をターゲットとしたカスタムレンダラを作成するためのファーストクラスのAPIを提供します。デフォルトのDOMレンダラーは、同じAPIを使用して構築されます。
vue/reactivityモジュールは、Vueのリアクティビティ システムへの直接アクセスを提供する関数をエクスポートし、スタンドアローンパッケージとして使用できます。これは、他のテンプレート (例： lit-html) とのペアリングや、非UIシナリオでも使用できます。

# スケールアップに適応するための新しいAPI
Vue3では、2.xのObject-based APIはほぼそのままです。しかし、3.0では、大規模アプリケーションでVueを使用する際の問題点に対処することを目的とした新しいAPIのセットであるComposition APIも導入されています。Composition APIはreactivity APIの上に構築されており、Reactフックと同様のロジック構成と再利用、より柔軟なコード編成パターン、2.x Object-based APIよりも信頼性の高い型推論を可能にします。

Composition APIは@vue/composition-apiプラグインを介してVue 2.xで使用することもでき、Vue 2と3の両方で動作するComposition APIユーティリティ ライブラリがすでに存在します (vueuse, vue-composableなど）。

# 改善されたTypeScript対応

Vue 3のコードベースはTypeScriptで書かれており、自動生成、テスト、およびバンドルされた型定義を使用しているため、常に最新の状態に保たれています。コンポジションAPIは型推論との相性が抜群です。VSCodeの公式拡張機能であるVeturは、Vue 3の改良された内部型付けを利用して、テンプレート表現とプロップスの型チェックをサポートするようになりました。また、Vue 3の型付けはTSXを完全にサポートしています。

# 実験的機能
Singe-File Components (SFC、別名。vueファイル） のために、2つの新機能を提案しています。

- `<script setup>`: SFC内部でコンポジションAPIを利用するための構文的な糖質
- `<style vars>`: SFC内部の状態駆動型CSS変数
これらの機能はVue 3.0ですでに実装されており、利用可能ですが、フィードバックを収集する目的でのみ提供されています。これらの機能は、RFCが統合されるまでは実験的なものです

また、現在は文書化されていない`<Suspense>`コンポーネントも実装しました。これは、最初のレンダリングやブランチスイッチで、入れ子になった非同期依存関係（非同期コンポーネントや非同期セットアップを持つコンポーネント）を待つことを可能にします。この機能については、Nuxt.jsチームと一緒にテストと反復作業を行っています (Nuxt 3が進行中です）。