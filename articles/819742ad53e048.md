---
title: "YouTubeã®é€£ç¶šè¦–è´ã‚’é˜²æ­¢ã™ã‚‹ãŸã‚ã®User Script"
emoji: "ğŸ“º"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["youtube", "javascript", "userscript"]
published: false
---

æœ€è¿‘ã€ç„¡é™ã« YouTube ã‚’è¦‹ã¦ã—ã¾ã„æ™‚é–“ã‚’æº¶ã‹ã—ã¾ãã£ã¦ã„ã¾ã™ğŸ˜‡ ã“ã®ã¾ã¾ã§ã¯ã‚¢ã‚«ãƒ³ã¨é€£ç¶šè¦–è´é˜²æ­¢ã®ãŸã‚ã® UserScript ã‚’æ›¸ã„ã¦ã¿ã¾ã—ãŸã€‚

# ä½•ã‚’ä½œã£ãŸï¼Ÿ
ä»¥ä¸‹ã®æ©Ÿèƒ½ã‚’ã‚‚ã¤ UserScript ã§ã™ã€‚

1. YouTube ã®è¦–è´ãƒšãƒ¼ã‚¸ã®åºƒå‘Šã‚„ã‚³ãƒ¡ãƒ³ãƒˆã‚’éè¡¨ç¤º
2. YouTube ã®è¦–è´å®Œäº†æ™‚ã®è‡ªå‹•å†ç”Ÿã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«
3. YouTube ã®è¦–è´å®Œäº†æ™‚ã®åºƒå‘Šã‚’éè¡¨ç¤ºã«ã™ã‚‹

**Before**
é©å¿œå‰ã® YouTube è¦–è´ãƒšãƒ¼ã‚¸ãŒã“ã¡ã‚‰ã§ã™ã€‚
ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®ãƒªã‚³ãƒ¡ãƒ³ãƒ‰ã‹ã‚‰ã€ã‚³ãƒ¡ãƒ³ãƒˆã¾ã§æ°—ã«ãªã‚‹æƒ…å ±ãŒã‚ã‚Šã¾ãã‚Šã§ã™ã­ã€‚è¦‹çµ‚ã‚ã£ãŸã‚‰ï¼ˆã‚€ã—ã‚è¦‹ã¦ã‚‹é€”ä¸­ã‹ã‚‰ï¼‰æ¬¡ã®å‹•ç”»ã«è¡ŒããŸã„æ¬²ãŒæ¹§ã„ã¦ãã¾ã™ã€‚

|è¦–è´ä¸­|è¦–è´å®Œäº†|
|---|---|
|![](https://i.gyazo.com/bec810bb79e9c6e8bf29673b52379070.png)|![](https://i.gyazo.com/50f99355a5d2fd14f5ee8bc7cc920a63.png)|

**After**
é©å¿œå¾Œã® YouTube è¦–è´ãƒšãƒ¼ã‚¸ãŒã“ã¡ã‚‰ã§ã™ã€‚
ã‚µã‚¤ãƒ‰ãƒãƒ¼ã¨ã‚³ãƒ¡ãƒ³ãƒˆãŒæ¶ˆãˆã¦ã‚¹ãƒƒã‚­ãƒªã—ã¦ã„ã¾ã™ã€‚ä»Šã®å‹•ç”»ã«å…¨é›†ä¸­ã§ãã¾ã™ã€‚
ã•ã‚‰ã«è¦–è´å®Œäº†æ™‚ã«ã‚‚æ¬¡ã®å‹•ç”»ã¯è‡ªå‹•ã§å§‹ã¾ã‚‰ãšã€æ›´ã«åºƒå‘Šã‚‚è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ã€‚

|è¦–è´ä¸­|è¦–è´å®Œäº†|
|---|---|
|![](https://i.gyazo.com/7180c9e29793fed07cd9ac45f20d73f0.png)|![](https://i.gyazo.com/83fe840c12418c8667243621a3864292.png)|

# Installæ–¹æ³•

UserScript ã‚’ç®¡ç†ã§ãã‚‹æ‹¡å¼µæ©Ÿèƒ½ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã«è¿½åŠ ã—ã¦ãã ã•ã„ã€‚

**Chrome ã®å ´åˆ**
https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo

**Firefox ã®å ´åˆ**
https://addons.mozilla.org/ja/firefox/addon/greasemonkey/

ãã®å¾Œã€ä»¥ä¸‹ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’Installã™ã‚Œã°å¯èƒ½ã§ã™ã€‚

https://github.com/kawamataryo/userscripts/raw/main/src/hide-youtube-recommendations.user.js

# å®Ÿè£…

å®Ÿè£…ã¯ã“ã¡ã‚‰ã§ã™ã€‚


```js
// ==UserScript==
// @name         Hide youtube recommendations
// @namespace    https://github.com/kawamataryo/userscripts
// @version      1.0.1
// @description  try to take over the world!
// @author       kawamataryo
// @match        https://www.youtube.com/watch?v=*
// @grant        none
// @icon         https://www.youtube.com/s/desktop/a910c60b/img/favicon_96x96.png
// @updateURL    https://github.com/kawamataryo/userscripts/raw/main/src/hide-youtube-recommendations.user.js
// @downloadURL  https://github.com/kawamataryo/userscripts/raw/main/src/hide-youtube-recommendations.user.js
// ==/UserScript==

const toDisplayNone = (el) => {
  if (!el) {
    return;
  }
  el.style.display = "none";
};

(function () {
  console.log("Enabled hide youtube recommendations.");

  // Stop next video when video ended
  const video = document.querySelector(
    "#movie_player > div.html5-video-container > video"
  );
  const primary = document.querySelector("#primary");
  if (video) {
    video.addEventListener("ended", () => {
      const cancelBtn = document.querySelector(
        ".ytp-autonav-endscreen-button-container > button"
      );
      if (cancelBtn) {
        cancelBtn.click();
      }

      const primaryArea = document.querySelector("#primary");
      toDisplayNone(primaryArea);
    });
  }


  // Hide sidebar
  const primary = document.querySelector("#primary");
  const sidebar = document.querySelector("#secondary");
  if (primary && sidebar) {
    primary.style.maxWidth = `${primary.clientWidth}px`;
    toDisplayNone(sidebar);
  }

  // Hide meta
  const meta = document.querySelector("#meta");
  toDisplayNone(meta);

  // Hide comments
  const comments = document.querySelector("#comments");
  toDisplayNone(comments);
})();
```

ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®ãƒªã‚³ãƒ¡ãƒ³ãƒ‰ã‚„ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ä¸‹éƒ¨ã®ã‚³ãƒ¡ãƒ³ãƒˆã¯ `display: none` ã§å˜ç´”ã«éš ã—ã¦ã„ã‚‹ã ã‘ã§ã™ã€‚
è¦–è´å®Œäº†æ™‚ã®è‡ªå‹•ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã¨ã€å‹•ç”»ã®éè¡¨ç¤ºã¯ video ã‚¿ã‚°ã«`ended`ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒªã‚¹ãƒŠãƒ¼ã‚’ç™»éŒ²ã—ã¦æ“ä½œã—ã¦ã„ã¾ã™ã€‚

```js
  const video = document.querySelector(
    "#movie_player > div.html5-video-container > video"
  );
  if (video) {
    video.addEventListener("ended", () => {
      const cancelBtn = document.querySelector(
        ".ytp-autonav-endscreen-button-container > button"
      );
      if (cancelBtn) {
        cancelBtn.click();
      }

      const primaryArea = document.querySelector("#primary")
      toDisplayNone(primaryArea);
    });
  }
```

# çµ‚ã‚ã‚Šã«

å®Ÿéš›ã«ä½¿ã£ã¦ã¿ã¦ã€YouTube ã‚’é€£ç¶šã—ã¦ã¿ã‚‹æ™‚é–“ã¯ç¢ºå®Ÿã«æ¸›ã£ãŸæ°—ãŒã—ã¾ã™ï¼ˆãŸã¶ã‚“ï¼‰ï¼