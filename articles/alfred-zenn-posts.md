---
title: "è‡ªåˆ†ã®Zennè¨˜äº‹ã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«æ¤œç´¢ã§ãã‚‹Alfred Workflowã‚’ä½œã£ãŸ"
emoji: "ğŸ”"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["alfred", "zenn", "js"]
published: true
---

Zenn å…¬é–‹æ™‚ã‹ã‚‰æŠ•ç¨¿ã‚’ç¶šã‘ã€ç´¯è¨ˆæŠ•ç¨¿æ•°ã¯ 20 è¨˜äº‹ã‚’è¶…ãˆã¾ã—ãŸã€‚
è‡ªåˆ†ã®è©°ã¾ã£ãŸã¨ã“ã‚ãƒ™ãƒ¼ã‚¹ã§è¨˜äº‹ã‚’æ›¸ãã“ã¨ã‚‚ã‚ã‚Šã€æŠ•ç¨¿è¨˜äº‹ã‚’å¾Œã§è¦‹è¿”ã™ã“ã¨ã‚‚å¤šã„ã§ã™ã€‚ãã®éš›ã«ã‚‚ã£ã¨æ‰‹è»½ã«æ¢ã›ãŸã‚‰ãªã¨æ€ã„ã€è‡ªåˆ†ã®æŠ•ç¨¿è¨˜äº‹ã‚’æ¤œç´¢ã™ã‚‹ Aflred Workflow ã‚’ä½œã£ã¦ã¿ã¾ã—ãŸã€‚

çµæ§‹ä¾¿åˆ©ãªã®ã§ã€Zenn ãƒ˜ãƒ“ãƒ¼ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ–¹ã€…ã«ä½¿ã£ã¦ã‚‚ã‚‰ãˆã‚‹ã¨å¬‰ã—ã„ã§ã™ã€‚

# alfred-zenn-posts

è‡ªåˆ†ã®å…¬é–‹æ¸ˆã¿ã®æŠ•ç¨¿è¨˜äº‹ & ã‚¹ã‚¯ãƒ©ãƒƒãƒ—ã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«æ¤œç´¢ã§ãã‚‹ Alfred Workflow ã§ã™ã€‚
æ¤œç´¢çµæœã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚Œã°ãƒ–ãƒ©ã‚¦ã‚¶ã§è©²å½“ãƒšãƒ¼ã‚¸ãŒé–‹ã‹ã‚Œã¾ã™ã€‚

åˆå›ã¯ API ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒèµ°ã‚‹ã®ã§å°‘ã—æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™ãŒã€ãã®å¾Œã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒåŠ¹ãã®ã§ã‚ã‚‹ç¨‹åº¦é«˜é€Ÿã«å‹•ä½œã—ã¾ã™ã€‚

![](https://i.gyazo.com/aec9563c479ab859572b59e81638d93f.gif)

https://github.com/kawamataryo/alfred-zenn-posts

# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ»ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

[GitHubã®ãƒªãƒªãƒ¼ã‚¹](https://github.com/kawamataryo/alfred-zenn-posts/releases) ã‹ã‚‰ç›´æ¥`alfred-zenn-posts.workflow`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã€Alfred ã«å–ã‚Šè¾¼ã“ã¿ã¾ã™ã€‚

![](https://i.gyazo.com/5dabe1ad82faac8da2f515041afe939c.png)


ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå®Œäº†ã—ãŸã‚‰ã€Alfred ã® Workflow è¨­å®šç”»é¢ã‹ã‚‰ `alfred-zenn-posts` ã‚’é¸æŠã—ã¦ã€ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚


è¨­å®šã™ã‚‹ç’°å¢ƒå¤‰æ•°ã¯ä»¥ä¸‹ 1 ã¤ã§ã™ã€‚

|åå‰|å€¤|
|---|---|
|USER_NAME | Zenn ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼åï¼ˆ@ã‚’é™¤ãï¼‰ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚|

![](https://i.gyazo.com/981c410c2f98c0a0ec4592362ef00ee5.png)


ã“ã‚Œã§æº–å‚™ã¯å®Œäº†ã§ã™ã€‚
Alfred ã‚’é–‹ã`zenn`ã¨æ‰“ã¡ã€åŠè§’ã‚¹ãƒšãƒ¼ã‚¹ã‚’ç©ºã‘ã¦æ¤œç´¢ã—ãŸã„æ–‡å­—åˆ—ã‚’å…¥åŠ›ã™ã‚‹ã ã§ã™ã€‚

![](https://i.gyazo.com/aec9563c479ab859572b59e81638d93f.gif)

# å®Ÿè£…

ä»¥å‰ã€[ã“ã¡ã‚‰ã®è¨˜äº‹](https://qiita.com/ryo2132/items/358ce9d4baa8a8a27092)ã§ç´¹ä»‹ã—ãŸ[Alfy](https://github.com/sindresorhus/alfy) ã¨ã„ã† Node.js ãƒ™ãƒ¼ã‚¹ã§ Alfred Workflow ã‚’ä½œã‚Œã‚‹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚

ä¸»è¦ãƒ•ã‚¡ã‚¤ãƒ«ã¯ä»¥ä¸‹ 3 ã¤ã§ã™ã€‚

ï¼ˆ1ï¼‰å…¨ã¦ã®å…¬é–‹è¨˜äº‹ã‚’å–å¾—

```js:lib/fetchAllPosts.js
import alfy from "alfy"
import { emojiPath } from "./emojiPath";

export const fetchAllPosts = async (username) => {
  const options = {
    json: true,
    maxAge: 60000
  };

  const res = await alfy.fetch(
    `https://api.zenn.dev/users/${username}/articles`,
    options
  );
  const posts = res.articles.map((p) => {
    p.url = `https://zenn.dev/${username}/articles/${p.slug}`
    p.icon = emojiPath(p.emoji)
    return p
  })

  return posts
};

```

ï¼ˆ2ï¼‰å…¨ã¦ã®ã‚¹ã‚¯ãƒ©ãƒƒãƒ—ã®å–å¾—

```js:lib/fetchAllScraps.js
import alfy from "alfy"
import { emojiPath } from "./emojiPath";

export const fetchAllScraps = async (username) => {
  const options = {
    json: true,
    maxAge: 60000
  };

  const res = await alfy.fetch(
    `https://api.zenn.dev/users/${username}/scraps`,
    options
  );
  return res.scraps.map((p) => {
    p.url = `https://zenn.dev/${username}/scraps/${p.slug}`
    p.icon = emojiPath("ğŸ“‘")
    return p
  })
};
```

ï¼ˆ3ï¼‰Alfy API ã§ã®ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«æ¤œç´¢

```js:lib/index.js
import alfy from "alfy";
import { fetchAllPosts } from "./lib/fetchAllPosts";
import { fetchAllScraps } from "./lib/fetchAllScraps";

const username = process.env.USER_NAME;

const createItem = (title, subtitle, url, icon) => {
  return {
    title,
    subtitle,
    arg: url,
    icon: {
      type: "png",
      path: icon,
    }
  };
}

(async () => {
  if(alfy.input.length > 1) {
    const posts = await fetchAllPosts(username);
    const scraps = await fetchAllScraps(username);

    const items = alfy.inputMatches([...posts, ...scraps], "title").map((p) => createItem(p.title, p.url, p.url, p.icon));

    if (!items.length) {
      alfy.output(
          [createItem("The requested post was not found. âš ï¸", "", "")]);
      return;
    }
    alfy.output(items);
  } else {
    alfy.output([createItem("Loading...", "", "")])
  }
})()
```

Alfy ã® API ã‚’ä½¿ãˆã°ã€æ‰‹è»½ã« API ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«æ¤œç´¢ã§ãã‚‹ Workflow ãŒä½œã‚Œã¾ã™ã€‚ãŠã™ã™ã‚ã§ã™ã€‚

# çµ‚ã‚ã‚Šã«

ä»¥ä¸Šã€Œè‡ªåˆ†ã® Zenn è¨˜äº‹ã‚’æ‰‹è»½ã«æ¤œç´¢ã§ãã‚‹ Alfred Workflow ã‚’ä½œã£ãŸã€ã§ã—ãŸã€‚
Zenn ã®æŠ•ç¨¿æ•°ãŒå¤šã„ã»ã†ã«ã¯ä½•ã‹ã¨ä¾¿åˆ©ã ã¨æ€ã„ã¾ã™ã€‚ä½¿ã£ã¦ã‚‚ã‚‰ãˆã‚‹ã¨å¬‰ã—ã„ã§ã™ã€‚
ï¼ˆã‚‚ã—å‹•ã‹ãªã„å ´åˆã¯ã€[Twitter](https://twitter.com/KawamataRyo)ã‹[GitHub Issue](https://github.com/kawamataryo/alfred-zenn-posts/issues), ã“ã®è¨˜äº‹ã®ã‚³ãƒ¡ãƒ³ãƒˆã§æ•™ãˆã¦ãã ã•ã„ :pray:ï¼‰

ãã®ä»–ã€Qiita ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ–¹ã«ã¯ Qiita ç‰ˆã‚‚å…¬é–‹ã—ã¦ã„ã‚‹ã®ã§ã“ã¡ã‚‰ã‚‚æ˜¯éã€‚

https://qiita.com/ryo2132/items/6909b534a59d3550093e