---
title: "fast-check„ÅßProperty Based Testing„ÇíË©¶„Åó„Å¶„Åø„Çã"
emoji: "üêí"
type: "tech" # tech: ÊäÄË°ìË®ò‰∫ã / idea: „Ç¢„Ç§„Éá„Ç¢
topics: ["fast-check","typescript","test", "jest"]
published: false
---

# Property Based Testing„Å®„ÅØÔºü

# fast-check„Å®„ÅØÔºü

# FizzBuzz„ÅßË©¶„Åó„Å¶„Åø„Çã
Á∞°Âçò„Å™ÂÆüË°å‰æã„Å®„Åó„Å¶„ÄÅÁöÜÂ§ßÂ•Ω„Åç FizzBuzz „ÅßË©¶„Åó„Å¶„Åø„Åæ„Åó„Åü„ÄÇ
Ëâ≤„ÄÖ„Å™ FizzBuzz „Åå„ÅÇ„Çã„Åã„ÇÇ„Åß„Åô„Åå„ÄÅ‰ªäÂõû„ÅØÊï¥Êï∞„Çí‰∏é„Åà„ÅüÂ†¥Âêà„Å´‰ª•‰∏ã„ÅÆÊù°‰ª∂„ÅßÂÄ§„ÇíËøî„ÅôÈñ¢Êï∞„Å®„Åó„Åæ„Åô„ÄÇ

- 3 „ÅÆÂÄçÊï∞„Åß„Åã„Å§ 5 „ÅÆÂÄçÊï∞„ÅÆÂ†¥Âêà„ÅØ`FizzBuzz`
- 3 „ÅÆÂÄçÊï∞„ÅÆÂ†¥Âêà„ÅØ`Fizz`
- 5 „ÅÆÂÄçÊï∞„ÅÆÂ†¥Âêà„ÅØ`Buzz`„ÇíËøî„Åô
- „Åù„Çå‰ª•Â§ñ„ÅØ‰∏é„Åà„Çâ„Çå„ÅüÊï∞ÂÄ§„ÇíËøî„Åô

ÂÆüË£Ö„ÅØ„Åì„Å°„Çâ„Åß„Åô„ÄÇ

```ts
type FizzBuzzReturn = "FizzBuzz" | "Fizz" | "Buzz" | number

export const fizzBuzz = (num: number): FizzBuzzReturn => {
  if(num % 3 === 0 && num % 5 === 0) {
    return "FizzBuzz"
  }
  if(num % 3 === 0) {
    return "Fizz"
  }
  if(num % 5 === 0) {
    return "Buzz"
  }
  return num
}
```

„Åì„Çå„ÇíÊôÆÈÄö„Å´„ÉÜ„Çπ„Éà„Åó„Çà„ÅÜ„Å®„Åô„Çã„Å®„ÄÅ„Åì„Çì„Å™ÊÑü„Åò„Åß„Åó„Çá„ÅÜ„ÅãÔºü

```ts
describe('fizzBuzz', () => {
  test('3„ÅÆÂÄçÊï∞„Åß„Åã„Å§5„ÅÆÂÄçÊï∞„ÅÆÂ†¥Âêà„ÅØFizzBuzz„Å®Ëøî„Åô', () => {
    expect(fizzBuzz(15)).toBe('FizzBuzz')
    expect(fizzBuzz(90)).toBe('FizzBuzz')
    expect(fizzBuzz(180)).toBe('FizzBuzz')
  })

  test('3„ÅÆÂÄçÊï∞„Åß„Åã„Å§5„ÅÆÂÄçÊï∞„Åß„ÅØ„Å™„ÅÑÂ†¥Âêà„ÅØFizz„Å®Ëøî„Åô', () => {
    expect(fizzBuzz(3)).toBe('Fizz')
    expect(fizzBuzz(9)).toBe('Fizz')
    expect(fizzBuzz(63)).toBe('Fizz')
  })

  test('5„ÅÆÂÄçÊï∞„Åß„Åã„Å§3„ÅÆÂÄçÊï∞„Åß„ÅØ„Å™„ÅÑÂ†¥Âêà„ÅØBuzz„Å®Ëøî„Åô', () => {
    expect(fizzBuzz(5)).toBe('Buzz')
    expect(fizzBuzz(35)).toBe('Buzz')
    expect(fizzBuzz(80)).toBe('Buzz')
  })

  test('3„ÅÆÂÄçÊï∞„Åß„ÇÇ5„ÅÆÂÄçÊï∞„Åß„ÇÇ„Å™„ÅÑÂ†¥Âêà„ÅØÂºïÊï∞„Çí„Åù„ÅÆ„Åæ„ÅæËøî„Åô', () => {
    expect(fizzBuzz(1)).toBe(1)
    expect(fizzBuzz(26)).toBe(26)
    expect(fizzBuzz(98)).toBe(98)
  })
})
```

Jest „ÅÆ`test.each`„Çí‰Ωø„Å£„Å¶ Parameterized Test ÁöÑ„Å´Êõ∏„Åë„Å∞„ÇÇ„Å£„Å®ÂäπÁéáÁöÑ„Å´Êõ∏„Åë„Åù„ÅÜ„Åß„Åô„Åå„ÄÅ„Åù„Çå„Åß„ÇÇÊ§úË®º„Éë„Çø„Éº„É≥„Å´„ÅØÈôêÁïå„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ„Åü„Å®„Åà„Å∞„ÄÅ680439892 Á≠âÂ§ß„Åç„Å™Êï∞„Çí‰∏é„Åà„ÅüÂ†¥Âêà„Å´ÂÆü„ÅØ„Éê„Ç∞„Åå„ÅÇ„Çã„Åã„ÇÇÁü•„Çå„Åæ„Åõ„Çì„Åå„ÄÅÊ§úË®º„Åó„Çà„ÅÜ„Å®„Åô„Çã„Å®ÁÑ°ÁêÜ„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ

„Åì„Çå„Çí fast-check „Çí‰Ωø„Å£„Å¶ Property Based Testing „ÅßÊõ∏„ÅçÁõ¥„Åô„Å®„Åì„Å°„Çâ„Åß„Åô„ÄÇ

```ts
describe('fizzBuzz', () => {
  // 0‰ª•‰∏ä„ÅÆÊï¥Êï∞„ÇíËøî„ÅôÈñ¢Êï∞
  const  numberGreaterThanZero = () => fc.nat().filter(n => n !== 0)

  test('3„ÅÆÂÄçÊï∞„Åß„Åã„Å§5„ÅÆÂÄçÊï∞„ÅÆÂ†¥Âêà„ÅØFizzBuzz„Å®Ëøî„Åô', () => {
    fc.assert(
      fc.property(numberGreaterThanZero().map(n => n * 3 * 5), num => {
        expect(fizzBuzz(num)).toBe('FizzBuzz')
      })
    )
  })

  test('3„ÅÆÂÄçÊï∞„Åß„Åã„Å§5„ÅÆÂÄçÊï∞„Åß„ÅØ„Å™„ÅÑÂ†¥Âêà„ÅØFizz„Å®Ëøî„Åô', () => {
    fc.assert(
      fc.property(numberGreaterThanZero().map(n => n * 3), num => {
        fc.pre(num % 5 !== 0)
        expect(fizzBuzz(num)).toBe('Fizz')
      })
    )
  })

  test('5„ÅÆÂÄçÊï∞„Åß„Åã„Å§3„ÅÆÂÄçÊï∞„Åß„ÅØ„Å™„ÅÑÂ†¥Âêà„ÅØBuzz„Å®Ëøî„Åô', () => {
    fc.assert(
      fc.property(numberGreaterThanZero().map(n => n * 5), num => {
        fc.pre(num % 3 !== 0)
        expect(fizzBuzz(num)).toBe('Buzz')
      })
    )
  })

  test('3„ÅÆÂÄçÊï∞„Åß„ÇÇ5„ÅÆÂÄçÊï∞„Åß„ÇÇ„Å™„ÅÑÂ†¥Âêà„ÅØÂºïÊï∞„Çí„Åù„ÅÆ„Åæ„ÅæËøî„Åô', () => {
    fc.assert(
      fc.property(numberGreaterThanZero(), num => {
        fc.pre(num % 3 !== 0)
        fc.pre(num % 5 !== 0)
        expect(fizzBuzz(num)).toBe(num)
      })
    )
  })
})
```

`numberGreaterThanZero()`„Åß 0 ‰ª•‰∏ä„ÅÆÊï¥Êï∞„ÇíÁîüÊàê„Åó„Å¶„ÄÅ„Åù„Çå„Å´ÂêÑÊù°‰ª∂„Å´Âêà„Çè„Åõ„Å¶`map`„ÅßÂÄ§„ÇíË™øÊï¥„Åó„ÄÅ„Åù„ÅÆÂÄ§„Å´ÂØæ„Åó„Å¶„ÄÅ„ÉÜ„Çπ„Éà„ÇíË°å„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ`fc.pre()`„ÅØÂºïÊï∞„Å´Ê∏°„Åó„ÅüÂÄ§„ÅåÊ≠£„ÅÆÂ†¥Âêà„ÅØÊ§úË®º„Çí„Çπ„Ç≠„ÉÉ„Éó„Åô„ÇãÈñ¢Êï∞„Åß„Åô„ÄÇ

fast-check „ÅØ„ÄÅÊ®ôÊ∫ñ„ÅßÂêÑ„Ç¢„Çµ„Éº„Éà„Å´ÂØæ„Åó„Å¶ 100 Âõû„ÅÆ„ÉÜ„Çπ„Éà„ÇíË°å„ÅÜ„ÅÆ„Åß„ÄÅÂâç„ÅÆ„ÉÜ„Çπ„Éà„Å´ÊØî„Åπ„Å¶„Åã„Å™„ÇäÂÆâÂÖ®ÊÄß„ÅØÂ¢ó„Åô„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ

ÂÆüÈöõ„Å´`console.log()`„ÅßÂºïÊï∞„Å´‰∏é„Åà„Çâ„Çå„ÇãÊï∞ÂÄ§„ÇíÂá∫Âäõ„Åó„Å¶„Åø„Çã„Å®‰ª•‰∏ã„ÅÆ„Å®„Åä„Çä„Åß„Åó„Åü„ÄÇ
„Åã„Å™„ÇäÂπÖÂ∫É„ÅÑÂÄ§„ÅßÊ§úË®º„Åó„Å¶„ÅÑ„Çã„ÅÆ„Åå„Çè„Åã„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ

```ts
  test('3„ÅÆÂÄçÊï∞„Åß„Åã„Å§5„ÅÆÂÄçÊï∞„ÅÆÂ†¥Âêà„ÅØFizzBuzz„Å®Ëøî„Åô', () => {
    const args: number[] = []
    fc.assert(
      fc.property(numberGreaterThanZero().map(n => n * 15), num => {
        args.push(num)
        expect(fizzBuzz(num)).toBe('FizzBuzz')
      })
    )
    console.log(args)
    // Âá∫Âäõ ‚Üì
    //  [
    //             15,  5154547515, 14586534285, 22067216670, 11463699000,
    //             15,         150,         405, 24544203645, 15800293260,
    //    32212254585, 25782162600, 19507501455, 13932433035, 32212254465,
    //            240,  5894415900,  2475945960,  7330825875, 32212254630,
    //    29224485450,         240, 29473233660,         390,  8133294240,
    //    30365121465, 32212254420, 10316546130, 15568267905, 14022727380,
    //            450, 28486437015,          90, 16389325920,  1924987605,
    //    31884552180,         450,         330, 32212254345,   817391010,
    //    22209798855, 32212254330, 20007343365, 24800565105,   633917550,
    //    27951496950,  8008404135,  2756876070,  7432837200, 16562011815,
    //    13111531425,         165,   372921390, 28326375945, 30538334280,
    //    25317536220,         180, 18038638425, 32212254675,         180,
    //    21342528135, 32212254585, 13922248920, 11444807085, 31396742475,
    //    32212254705, 21541350405, 26881353345, 30568548300, 32212254705,
    //    32212254285,  7907215245, 18255486015,  8624909925,  8417630310,
    //             90,  4360582020,         300, 13438857525,         120,
    //    19155723930, 32212254555,  8267478945, 32212254270,         285,
    //    16459253745, 20202074865,  1353827010,  6384282060, 25864471440,
    //    15372941925, 11600763255,   928093095, 32212254465,  8311722375,
    //    18542294235, 23017659225,         240, 21950595210,  4564644165
    //  ]
  })
```

# „Åä„Çè„Çä„Å´
Property Based Testing „ÅØÂàù„ÇÅ„Å¶„Å†„Å£„Åü„ÅÆ„Åß„Åô„Åå„ÄÅÊÄù„Å£„Åü„Çà„Çä‰Ωø„Åà„Åù„ÅÜ„Å†„Å™„Å®ÊÄù„ÅÑ„Åæ„Åó„Åü„ÄÇ
fast-check „ÅÆ API „ÇÇÂàÜ„Åã„Çä„ÇÑ„Åô„ÅÑ„ÅÆ„Åß„ÄÅ‰ªä‰Ωú„Å£„Å¶„ÅÑ„Çã„Éó„É≠„ÉÄ„ÇØ„Éà„Å´„ÇÇÈÅìÂÖ•Ê§úË®é„Åó„Å¶„Åø„Åü„ÅÑ„Åß„Åô„ÄÇ